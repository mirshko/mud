<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><script>localStorage.setItem('tsd-theme', 'dark')</script>
    <style data-styled="active" data-styled-version="5.3.5">.eFBcgr{font-family:"Space Grotesk";font-style:normal;font-weight:400;color:#fff;}.kPA-DJy{font-family:Space Mono;font-weight:700;color:var(--primary-color);}.iAIAae{-webkit-text-decoration:none;text-decoration:none;}.drKLan{border:3px solid #fff;width:250px;height:250px;padding:30px;}.drKLan:hover{border-color:var(--primary-color);}.drKLan:hover h2{color:var(--primary-color);}.ckZyYd{font-size:20px;}.eEVVFq{font-size:30px;color:var(--secondary-color);}.ilQMQG{padding:20px 100px;max-width:1600px;}.hgHsmc{font-size:150px;display:inline-block;margin-right:30px;vertical-align:sub;}.jDzCab{font-size:45px;text-transform:uppercase;font-style:italic;display:inline-block;margin-bottom:45px;}.jCatjz{font-size:25px;}.fHlUMs{margin-top:60px;}.jMerzF{display:inline-block;margin:20px 20px 0 0;vertical-align:bottom;}.gpkkgq{min-height:100vh;display:grid;width:100%;grid-template-columns:50px 1fr;}.blPNQe{border-right:3px solid #fff;display:grid;grid-template-rows:50px 1fr;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;grid-gap:10px;position:fixed;left:0;height:100%;width:50px;}.ldynaM{height:100%;padding:10px;}.khpRmG{display:grid;-webkit-align-content:start;-ms-flex-line-pack:start;align-content:start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;grid-gap:30px;}.gFfXMN{font-family:"Space Grotesk",sans-serif;writing-mode:tb-rl;-webkit-transform:rotate(-180deg);-ms-transform:rotate(-180deg);transform:rotate(-180deg);-webkit-text-decoration:none;text-decoration:none;color:#fff;}.jduAUQ{font-family:"Space Grotesk",sans-serif;writing-mode:tb-rl;-webkit-transform:rotate(-180deg);-ms-transform:rotate(-180deg);transform:rotate(-180deg);-webkit-text-decoration:none;text-decoration:none;color:#fff;}.lnlMXN{font-family:"Space Mono",sans-serif;font-weight:700;color:var(--primary-color);}</style>
    <meta http-equiv="x-ua-compatible" content="IE=edge"/><title>mud</title><meta name="description" content="Documentation for mud"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script async src="assets/search.js" id="search-script"></script></head><body>
    <div class="sc-breuTD blPNQe"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXkAAAHdCAYAAAD4jgnFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAq9SURBVHgB7d3BcRzHGYbhf1gsn5GBhheXyxfBEWhZDsB0BCIjkBQBlxmYERCKQHAALq4iMHT1hesMcGeR415zLyoTdAnTIHs/PE9Vs6/AzPRLVF/+KgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgM9kKhjc8vqP5/X+7Xc1mgdvf5ge768LBvawYHjvz9o/T2s8L9oSeYb2oACIJfIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAMJEHCGYyFL+y/OP32/bv8+rhwdtH0+P9vvik5fUf5nr/7k11Mb2Y/vyvbcGRv+QBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKZDMXdefe78/9OPVrr/XJeI+r1+9W7ueCOiDx3Z1p+qvfvKlb670cE1zUAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFMhuLXHiyX9b72xWl6sFwVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8RlPBLS3LMrdtLu7UNE27glsSeW6tRf6ibd8Wd2nfIv+o4JYeFACxRB4gmMgDBBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcI9rA4GcuynLftvMbxVfVx2dZ18VHtvT+tcexNqjotIn9anrT1vPK8FI6PO45YfFPj2B0XJ8J1DUAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCGRryCcdJTE9qLC9qvb/UWBOmOB1zOxfbGsfOwJlPE/lPO4RwpElML9oHva2VjtOGRJ7bmGu86WS74kauawCCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QbKpAx6EYT4ubjDYZ6rHpPh93/JbfFDfZtfVzrRc7YSp1MtRcfabXXLQX/6wGcRy7NtpUHviSNsfVw64Cua4BCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QLDUoSF8HhfVZyrPvoA7IfKs8fM0TRcFDMt1DUAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCDTU0ZFmWs7b9VOudVR+b9jO9rnHM1cfLti5rvavivjm88x8qT6+z/nKaph5nq5vRJkMd4rypcczVL6wjuWof4q7gt7tO/HZa4DfVpz0/1mBc1wAEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4g2GhDQ3oZbXrNpq3nBV9OrzNxXZyU1MgPNb1mWZa54MuKnOjE/+e6BiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBpurgOBTjda23b+tZdTBN074G0Z7PWdvOar3v2/qu1nvWns9FcRJ6DZ3pcSbaz7Jp26sax8v2e/2tVup4RrdtfVPr/bX9XlfVQc/JUHN1MFKce2m/02Fk2uqxae1DNHrtHhrwTMw1jh5h7nlGD9tc63X5vQ5c1wAEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMjfT6+WTHPxUe3ZbJYOqs8EuJ6eL31sK5TIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFEHiDYw+KUXLe1r/XOjivN/GGuxTrTNO2L++Zs6TN0ZrhzNVUHx4fzptbbtwP2qLhT7X1dtO3b4iaP0kLf3vmmxpvqxM0et29wVx24rgEIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAsOEmQ3WaztLL9TRN18V902XCVC8mVbHGaJGfq8+EqV4u2npW3DcjTVDat2VaGrfmugYgmMgDBBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwYabDNXJYZrTVa33S2Xat7Wr9ebj4uN2td6++jiciV2N46yt8xrHvvo867kGOxOpkb+apulx8VHt2Wyrg2VZLkrkbzTSN9h+lsMfPcP8PO3bedq2VzWOH3ucixHPhOsagGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwTrNTTkMHXmotY7TIt5UpyKXVtLrXd452cFX87Xx0Ema+2rTwuvq5OpBtIe8ty2N7XezmSo09He++u2bSpM+waHOl8jGXAyVC/P2mu/qIG4rgEIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAsF6ToQC+hF/a+met96e2vq5AIg+csstpmra10rIs2wqNvOsagGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwSbaiDLspy17fsax9U0TZfFnWrv/XXbNjWOl21d10o9hlmkau/8vG1PKs9hiMlVcbfaB7RZ+nhV3LlD5JexzMVJaO9qu/SxrVCuawCCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPECwqQIty3LWtie13tzWVzWOv0/TdFlh2vva1IdnPYrL9pyvi//R3tV5276rcfy7rX2td9Xe+VVxv7QP+ukylm3BF9S+wc0ylm3xSa5rAIKJPEAwkQcIJvIAwUQeIJjIAwQTeYBgIg8QTOQBgok8QDCRBwgm8gDBRB4gmMgDBBN5gGAiDxAscjJUL8uyzDXWxKJNW9/UOF6GTqp6VR3ee3s2j2ul5cOUs59qHPu2fqxx7Ntz3hc3eljc6Pjx7GsQy4cxeZsax0iHvadNjfOf+yHymxrHrp2LXXEyXNcABBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIJvIAwUQeIJjJUCfkOCXorMaxrbEmVfUyVx/7Wm/f1rMaiElMp8VkqBPSDtd1265rEO0/ncM2FzeZqwNRZQ3XNQDBRB4gmMgDBBN5gGAiDxBM5AGCiTxAMJEHCCbyAMFEHiCYyAMEE3mAYCIPEEzkAYKJPEAwkQcIZjIUtzbgpKpIhoYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnJD/AL/bFxYySaLTAAAAAElFTkSuQmCC" alt="MUD logo" class="sc-hAZoDl ldynaM"><div class="sc-fnykZs khpRmG"><a class="sc-bjUoiL sc-idiyUo jduAUQ lnlMXN" href="/">MUD</a><a class="sc-bjUoiL jduAUQ" href="/blog">blog</a><a href="https://github.com/latticexyz/mud" target="_blank" class="sc-fEOsli gFfXMN">github</a><a href="https://twitter.com/latticexyz" target="_blank" class="sc-fEOsli gFfXMN">twitter</a></div></div> 
    <script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">mud</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>mud</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#solecs---solidity-entity-component-system" id="solecs---solidity-entity-component-system" style="color: inherit; text-decoration: none;">
  <h1>solecs - Solidity Entity Component System</h1>
</a>
<p><code>solecs</code> is a framework to build highly composable, extendable and maintainable on-chain Worlds.</p>
<p>It is designed around the Entity Component System architecture pattern. To build some fundamental intuition around ECS, have a look at <a href="https://mud.dev/blog/ecs">our MUD ECS introduction</a>.</p>
<p><code>solecs</code> is seamlessly integrated with the other MUD libraries, but can be used independently.</p>

<a href="#features" id="features" style="color: inherit; text-decoration: none;">
  <h1>Features</h1>
</a>
<ul>
<li>Fully on-chain ECS</li>
<li>Powerful queries, including advanced recursive or indirect relationship queries</li>
<li>Seamless integration with other MUD libraries and services</li>
<li>Simple API</li>
</ul>

<a href="#concepts" id="concepts" style="color: inherit; text-decoration: none;">
  <h1>Concepts</h1>
</a>

<a href="#world" id="world" style="color: inherit; text-decoration: none;">
  <h2>World</h2>
</a>
<p>The <code>World</code> contract is at the core of every on-chain world.
Entities, components and systems are registered in the <code>World</code>.
Components register updates to their state via the <code>registerComponentValueSet</code> and <code>registerComponentValueRemoved</code> methods, which emit the <code>ComponentValueSet</code> and <code>ComponentValueRemoved</code> events respectively.
Clients can reconstruct the entire state (of all components) by listening to these two events, instead of having to add a separate getter or event listener for every type of data. (Have a look at the MUD network package for a TypeScript implementation of contract/client state sync.)</p>
<p>The <code>World</code> is an ownerless and permissionless contract.
Anyone can register new components and systems in the world (via the <code>registerComponent</code> and <code>registerSystem</code> methods).
Clients decide which components and systems they care about.</p>
<pre><code class="language-solidity"><span class="hl-0">interface</span><span class="hl-1"> IWorld </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponent</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">componentAddr</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerSystem</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">systemAddr</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueSet</span><span class="hl-2">(</span><br/><span class="hl-1">    </span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><br/><span class="hl-1">    </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><br/><span class="hl-1">    </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">calldata</span><span class="hl-1"> </span><span class="hl-5">data</span><br/><span class="hl-1">  </span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueRemoved</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">components</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-0">IUint256Component</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">systems</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-0">IUint256Component</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getNumEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">hasEntity</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getUniqueEntityId</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">query</span><span class="hl-2">(</span><span class="hl-0">WorldQueryFragment</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">calldata</span><span class="hl-1"> </span><span class="hl-5">worldQueryFragments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><span class="hl-2">}</span><br/>
</code></pre>

<a href="#entities" id="entities" style="color: inherit; text-decoration: none;">
  <h2>Entities</h2>
</a>
<p>An entity is just a <code>uint256</code> id.
While any <code>uint256</code> is a valid id, <code>uint256</code>s from 0 to 2<sup>160</sup> are reserved for Ethereum addresses as a convention.
This allows every contract and EOA to be a valid entity.</p>
<p>A simple use-case of this convention is being able to represent components and systems (both of which are contracts) as entities (with their entity id being their contract address).
This allows them to be stored in &quot;registry components&quot; in the World, which means every component and system is automatically known to the client via the standartized contract/client sync described in the <a href="#World">World section</a>. Pretty meta.</p>

<a href="#components" id="components" style="color: inherit; text-decoration: none;">
  <h2>Components</h2>
</a>
<p>Components are a key-value store from entity id to component value.
Each component is its own contract.
This allows components to be deployed independently from each other.</p>
<p>Components have an owner, who can grant write access to more addresses.
(Systems that want to write to a component need to be given write access first.)
Everyone has read access.</p>
<p>For convenience the component implementation in <code>solecs</code> also includes a reverse mapping from <code>keccak256(value)</code> to set of entities with this value, but this is not strictly required and might change in a future release.</p>
<pre><code class="language-solidity"><span class="hl-0">interface</span><span class="hl-1"> IComponent </span><span class="hl-0">is</span><span class="hl-1"> IOwned </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">transferOwnership</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">newOwner</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getRawValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>To have a common interface, the base component contract stores values as raw bytes.
For a typed component that is easier to work with, extend the base component class and add typed <code>getValue</code>, <code>set</code> and <code>getEnttiiesWithValue</code> methods.</p>
<p>Example <code>PositionComponent.sol</code>:</p>
<pre><code class="language-solidity"><span class="hl-6">// SPDX-License-Identifier: MIT</span><br/><span class="hl-0">pragma</span><span class="hl-1"> </span><span class="hl-0">solidity</span><span class="hl-1"> &gt;=0.8.0</span><span class="hl-0">;</span><br/><br/><span class="hl-0">import</span><span class="hl-1"> { Component </span><span class="hl-2">}</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-7">&quot;solecs/Component.sol&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-0">struct</span><span class="hl-1"> Coord </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-4">int64</span><span class="hl-1"> x</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-4">int64</span><span class="hl-1"> y</span><span class="hl-0">;</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">constant</span><span class="hl-1"> ID </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-2">(</span><span class="hl-3">keccak256</span><span class="hl-2">(</span><span class="hl-7">&quot;example.component.Position&quot;</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><br/><span class="hl-0">contract</span><span class="hl-1"> PositionComponent </span><span class="hl-0">is</span><span class="hl-1"> Component </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-3">Component</span><span class="hl-2">(</span><span class="hl-1">world, ID) </span><span class="hl-2">{}</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">Coord</span><span class="hl-1"> </span><span class="hl-0">calldata</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><span class="hl-1">    </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-1">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-1">value</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-2">}</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-0">Coord</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">decode</span><span class="hl-2">(</span><span class="hl-3">getRawValue</span><span class="hl-2">(</span><span class="hl-1">entity</span><span class="hl-2">),</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-1">Coord</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-2">}</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-0">Coord</span><span class="hl-1"> </span><span class="hl-0">calldata</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-1">value</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-2">}</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>To allow clients to automatically create a decoder for the abi-encoded raw component value, add an optional <code>getSchema</code> method:</p>
<pre><code><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-5">PositionComponent</span><span class="hl-1"> </span><span class="hl-5">is</span><span class="hl-1"> </span><span class="hl-5">Component</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><br/><span class="hl-1">  </span><span class="hl-0">...</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">pure</span><span class="hl-1"> </span><span class="hl-3">override</span><span class="hl-1"> </span><span class="hl-3">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">memory</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> LibTypes.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">memory</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><span class="hl-1">    </span><span class="hl-5">keys</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">] </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-2">&quot;</span><span class="hl-7">x</span><span class="hl-2">&quot;</span><span class="hl-0">;</span><br/><span class="hl-1">    </span><span class="hl-5">values</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">] </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-5">LibTypes</span><span class="hl-2">.</span><span class="hl-5">SchemaValue</span><span class="hl-2">.</span><span class="hl-5">INT64</span><span class="hl-0">;</span><br/><br/><span class="hl-1">    </span><span class="hl-5">keys</span><span class="hl-1">[</span><span class="hl-8">1</span><span class="hl-1">] </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-2">&quot;</span><span class="hl-7">y</span><span class="hl-2">&quot;</span><span class="hl-0">;</span><br/><span class="hl-1">    </span><span class="hl-5">values</span><span class="hl-1">[</span><span class="hl-8">1</span><span class="hl-1">] </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-5">LibTypes</span><span class="hl-2">.</span><span class="hl-5">SchemaValue</span><span class="hl-2">.</span><span class="hl-5">INT64</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-2">}</span><br/><span class="hl-2">}</span>
</code></pre>
<p>Components are registered in the World contract and also register updates to their state in the World contract.
(This happens automatically when extending the <code>Component.sol</code> base contract).</p>

<a href="#systems" id="systems" style="color: inherit; text-decoration: none;">
  <h2>Systems</h2>
</a>
<p>System are contracts with a single <code>execute</code> function.</p>
<pre><code class="language-solidity"><span class="hl-6">// SPDX-License-Identifier: MIT</span><br/><span class="hl-0">pragma</span><span class="hl-1"> </span><span class="hl-0">solidity</span><span class="hl-1"> &gt;=0.8.0</span><span class="hl-0">;</span><br/><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-7">&quot;./IOwned.sol&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-0">interface</span><span class="hl-1"> ISystem </span><span class="hl-0">is</span><span class="hl-1"> IOwned </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">execute</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> </span><span class="hl-5">arguments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>For convenience adding a typed <code>executeTyped</code> method taking care of abi-encoding the arguments is recommended.</p>
<p>Like components, systems are registered on the World contract to allow clients to automatically sync their contract address.</p>
<p>In the <code>solecs</code> <code>System.sol</code> base contract, the system is initialized with a reference to the World contract and the world&#39;s component registry.
Systems have read access to every component, but need to be granted write access to components they should modify.</p>
<p>Example <code>MoveSystem.sol</code>:</p>
<pre><code class="language-solidity"><span class="hl-6">// SPDX-License-Identifier: MIT</span><br/><span class="hl-0">pragma</span><span class="hl-1"> </span><span class="hl-0">solidity</span><span class="hl-1"> &gt;=0.8.0</span><span class="hl-0">;</span><br/><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-7">&quot;solecs/System.sol&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { IWorld </span><span class="hl-2">}</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-7">&quot;solecs/interfaces/IWorld.sol&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { IUint256Component </span><span class="hl-2">}</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-7">&quot;solecs/interfaces/IUint256Component.sol&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { IComponent </span><span class="hl-2">}</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-7">&quot;solecs/interfaces/IComponent.sol&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { getAddressById </span><span class="hl-2">}</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-7">&quot;solecs/utils.sol&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-0">import</span><span class="hl-1"> { PositionComponent, ID as PositionComponentID, Coord </span><span class="hl-2">}</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-7">&quot;./PositionComponent.sol&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">constant</span><span class="hl-1"> ID </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-2">(</span><span class="hl-3">keccak256</span><span class="hl-2">(</span><span class="hl-7">&quot;ember.system.move&quot;</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><br/><span class="hl-0">contract</span><span class="hl-1"> MoveSystem </span><span class="hl-0">is</span><span class="hl-1"> System </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-0">IUint256Component</span><span class="hl-1"> </span><span class="hl-5">_components</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">IWorld</span><span class="hl-1"> </span><span class="hl-5">_world</span><span class="hl-1">) </span><span class="hl-3">System</span><span class="hl-2">(</span><span class="hl-1">_components, _world) </span><span class="hl-2">{}</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">execute</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> </span><span class="hl-5">arguments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><span class="hl-1">    </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> entity</span><span class="hl-2">,</span><span class="hl-1"> Coord </span><span class="hl-0">memory</span><span class="hl-1"> targetPosition</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">decode</span><span class="hl-2">(</span><span class="hl-1">arguments</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">,</span><span class="hl-1"> Coord</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><br/><span class="hl-1">    PositionComponent position </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">PositionComponent</span><span class="hl-2">(</span><span class="hl-3">getAddressById</span><span class="hl-2">(</span><span class="hl-1">components</span><span class="hl-2">,</span><span class="hl-1"> PositionComponentID</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><span class="hl-1">    position</span><span class="hl-2">.</span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-1">entity</span><span class="hl-2">,</span><span class="hl-1"> targetPosition</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-2">}</span><br/><br/><span class="hl-1">  </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">executeTyped</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">Coord</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> </span><span class="hl-5">targetPosition</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-3">execute</span><span class="hl-2">(</span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-1">entity</span><span class="hl-2">,</span><span class="hl-1"> targetPosition</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-2">}</span><br/><span class="hl-2">}</span><br/>
</code></pre>

<a href="#queries" id="queries" style="color: inherit; text-decoration: none;">
  <h2>Queries</h2>
</a>
<p>Queries provide a simple API to get a list of entities matching certain specified criteria.
A query consists of a list of query fragments.
A query fragment is a struct with three fields:</p>
<pre><code class="language-solidity"><span class="hl-0">struct</span><span class="hl-1"> QueryFragment </span><span class="hl-2">{</span><br/><span class="hl-1">  QueryType queryType</span><span class="hl-0">;</span><br/><span class="hl-1">  IComponent component</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-4">bytes</span><span class="hl-1"> value</span><span class="hl-0">;</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>Available query fragments are:</p>
<ul>
<li><code>Has</code>: filter for entities that have the specified component. The <code>value</code> field in the query fragment is ignored.</li>
<li><code>HasValue</code>: filter for entities that have the specified component with the specified value.</li>
<li><code>Not</code>: filter for entities that do not have the specified component. The <code>value</code> field in th query fragment is ignored.</li>
<li><code>NotValue</code>: filter for entities that to not have the specified component with the specified value</li>
<li><code>ProxyRead</code>: enable the proxy read mode for the rest of the query (more details below).</li>
<li><code>ProxyExpand</code>: enable the proxy expand mode for the rest of the query (more details below).</li>
</ul>
<p>The query fragments are executed from left to right and are concatenated with a logical <code>AND</code>.
For performance reasons, the most restrictive query fragment should be first in the list of query fragments,
in order to reduce the number of entities the next query fragment needs to be checked for.
If no proxy fragments are used, every entity in the resulting set passes every query fragment.
If setting fragments are used, the order of the query fragments influences the result, since settings only apply to
fragments after the setting fragment.</p>
<p>Example: Query for all movable entities at position (0,0):</p>
<pre><code class="language-solidity"><span class="hl-1">QueryFragment</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> fragments </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> QueryFragment</span><span class="hl-2">[](</span><span class="hl-8">2</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-6">// Specify the more restrictive filter first for performance reasons</span><br/><span class="hl-1">fragments</span><span class="hl-2">[</span><span class="hl-8">0</span><span class="hl-2">]</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">QueryFragment</span><span class="hl-2">(</span><span class="hl-1">QueryType</span><span class="hl-2">.</span><span class="hl-1">HasValue</span><span class="hl-2">,</span><span class="hl-1"> position</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-3">Coord</span><span class="hl-2">(</span><span class="hl-8">0</span><span class="hl-2">,</span><span class="hl-8">0</span><span class="hl-2">)))</span><span class="hl-0">;</span><br/><br/><span class="hl-6">// The value argument is ignored in Has query fragments</span><br/><span class="hl-1">fragments</span><span class="hl-2">[</span><span class="hl-8">1</span><span class="hl-2">]</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">QueryFragment</span><span class="hl-2">(</span><span class="hl-1">QueryType</span><span class="hl-2">.</span><span class="hl-1">Has</span><span class="hl-2">,</span><span class="hl-1"> movable</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-2">(</span><span class="hl-8">0</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><br/><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> entities </span><span class="hl-0">=</span><span class="hl-1"> LibQuery</span><span class="hl-2">.</span><span class="hl-3">query</span><span class="hl-2">(</span><span class="hl-1">fragments</span><span class="hl-2">)</span><span class="hl-0">;</span>
</code></pre>

<a href="#proxy-queries" id="proxy-queries" style="color: inherit; text-decoration: none;">
  <h3>Proxy queries</h3>
</a>
<p>Proxy query fragments provide a way to query for more advanced recursive or indirect relationships.</p>
<p>The <code>ProxyRead</code> query fragment enables the &quot;proxy read mode&quot; for the rest of the query.
This means that for all remaining fragments in the query not only the entities themselves are checked, but also their &quot;ancestors&quot; up to the given depth (specified in the <code>value</code> field of the query fragment) on the relationship chain defined by the given <code>component</code>.
The <code>component</code> must be a <code>Uint256Component</code> (a component whose raw value decodes to a single <code>uint256</code> that points to another entity).</p>
<p>Example: Query for all entities that have a <code>position</code> and are (directly or indirectly) owned by an entity with <code>name</code> &quot;Alice&quot;:</p>
<pre><code class="language-solidity"><span class="hl-1">QueryFragment</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> fragments </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> QueryFragment</span><span class="hl-2">[](</span><span class="hl-8">3</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">fragments</span><span class="hl-2">[</span><span class="hl-8">0</span><span class="hl-2">]</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">QueryFragment</span><span class="hl-2">(</span><span class="hl-1">QueryType</span><span class="hl-2">.</span><span class="hl-1">Has</span><span class="hl-2">,</span><span class="hl-1"> position</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-2">(</span><span class="hl-8">0</span><span class="hl-2">)))</span><span class="hl-0">;</span><br/><span class="hl-1">fragments</span><span class="hl-2">[</span><span class="hl-8">1</span><span class="hl-2">]</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">QueryFragment</span><span class="hl-2">(</span><span class="hl-1">QueryType</span><span class="hl-2">.</span><span class="hl-1">ProxyRead</span><span class="hl-2">,</span><span class="hl-1"> ownedBy</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-8">0xff</span><span class="hl-2">))</span><span class="hl-0">;</span><span class="hl-1"> </span><span class="hl-6">// Max depth 255</span><br/><span class="hl-1">fragments</span><span class="hl-2">[</span><span class="hl-8">2</span><span class="hl-2">]</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">QueryFragment</span><span class="hl-2">(</span><span class="hl-1">QueryType</span><span class="hl-2">.</span><span class="hl-1">HasValue</span><span class="hl-2">,</span><span class="hl-1"> name</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-1">&quot;Alice</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><br/><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> entities </span><span class="hl-0">=</span><span class="hl-1"> LibQuery</span><span class="hl-2">.</span><span class="hl-3">query</span><span class="hl-2">(</span><span class="hl-1">fragments</span><span class="hl-2">)</span><span class="hl-0">;</span>
</code></pre>
<p>The <code>ProxyExpand</code> query fragment enables the &quot;proxy expand mode&quot; for the rest of the query.
This means that for all remaining fragments in the query not only the matching entities themselves are included in the intermediate set, but also all their &quot;children&quot; down to the given depth (specified in the <code>value</code> field of the query fragment) on the relationship chain define by the given <code>component</code>.
The <code>component</code> must be a <code>Uint256Component</code> (a component whose raw value decodes to a single <code>uint256</code> that points to another entity).</p>
<p>Example: Query for all entities (directly or indirectly) owned by an entity with <code>name</code> &quot;Alice&quot;:</p>
<pre><code class="language-solidity"><span class="hl-1">QueryFragment</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> fragments </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> QueryFragment</span><span class="hl-2">[](</span><span class="hl-8">2</span><span class="hl-2">)</span><span class="hl-0">;</span><br/><br/><span class="hl-1">fragments</span><span class="hl-2">[</span><span class="hl-8">0</span><span class="hl-2">]</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">QueryFragment</span><span class="hl-2">(</span><span class="hl-1">QueryType</span><span class="hl-2">.</span><span class="hl-1">ProxyExpand</span><span class="hl-2">,</span><span class="hl-1"> ownedBy</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-8">0xff</span><span class="hl-2">)))</span><span class="hl-0">;</span><span class="hl-1"> </span><span class="hl-6">// Max depth 255</span><br/><span class="hl-1">fragments</span><span class="hl-2">[</span><span class="hl-8">1</span><span class="hl-2">]</span><span class="hl-1"> </span><span class="hl-0">=</span><span class="hl-1"> </span><span class="hl-3">QueryFragment</span><span class="hl-2">(</span><span class="hl-1">QueryType</span><span class="hl-2">.</span><span class="hl-1">HasValue</span><span class="hl-2">,</span><span class="hl-1"> name</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">abi</span><span class="hl-2">.</span><span class="hl-3">encode</span><span class="hl-2">(</span><span class="hl-7">&quot;Alice&quot;</span><span class="hl-2">))</span><span class="hl-0">;</span><br/><br/><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-0">memory</span><span class="hl-1"> entities </span><span class="hl-0">=</span><span class="hl-1"> LibQuery</span><span class="hl-2">.</span><span class="hl-3">query</span><span class="hl-2">(</span><span class="hl-1">fragments</span><span class="hl-2">)</span><span class="hl-0">;</span>
</code></pre>
<p>Proxy queries are significantly less performant (more gas intensive) than regular queries and should be used sparingly.</p>

<a href="#solidity-api" id="solidity-api" style="color: inherit; text-decoration: none;">
  <h1>Solidity API</h1>
</a>

<a href="#component" id="component" style="color: inherit; text-decoration: none;">
  <h2>Component</h2>
</a>
<p>Components are a key-value store from entity id to component value.
They are registered in the World and register updates to their state in the World.
They have an owner, who can grant write access to more addresses.
(Systems that want to write to a component need to be given write access first.)
Everyone has read access.</p>

<a href="#world-1" id="world-1" style="color: inherit; text-decoration: none;">
  <h3>world</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">address</span><span class="hl-1"> world</span>
</code></pre>
<p>Reference to the World contract this component is registered in</p>

<a href="#_owner" id="_owner" style="color: inherit; text-decoration: none;">
  <h3>_owner</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">address</span><span class="hl-1"> _owner</span>
</code></pre>
<p>Owner of the component has write access and can given write access to other addresses</p>

<a href="#writeaccess" id="writeaccess" style="color: inherit; text-decoration: none;">
  <h3>writeAccess</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">bool</span><span class="hl-2">)</span><span class="hl-1"> writeAccess</span>
</code></pre>
<p>Addresses with write access to this component</p>

<a href="#entities-1" id="entities-1" style="color: inherit; text-decoration: none;">
  <h3>entities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Set entities</span>
</code></pre>
<p>Set of entities with values in this component</p>

<a href="#entitytovalue" id="entitytovalue" style="color: inherit; text-decoration: none;">
  <h3>entityToValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-2">)</span><span class="hl-1"> entityToValue</span>
</code></pre>
<p>Mapping from entity id to value in this component</p>

<a href="#valuetoentities" id="valuetoentities" style="color: inherit; text-decoration: none;">
  <h3>valueToEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract MapSet valueToEntities</span>
</code></pre>
<p>Reverse mapping from value to set of entities</p>

<a href="#indexers" id="indexers" style="color: inherit; text-decoration: none;">
  <h3>indexers</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract IEntityIndexer</span><span class="hl-2">[]</span><span class="hl-1"> indexers</span>
</code></pre>
<p>List of indexers to be updated when a component value changes</p>

<a href="#id" id="id" style="color: inherit; text-decoration: none;">
  <h3>id</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> id</span>
</code></pre>
<p>Public identifier of this component</p>

<a href="#constructor" id="constructor" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">_world</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">_id</span><span class="hl-1">) </span><span class="hl-0">internal</span>
</code></pre>

<a href="#onlyowner" id="onlyowner" style="color: inherit; text-decoration: none;">
  <h3>onlyOwner</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">modifier</span><span class="hl-1"> </span><span class="hl-3">onlyOwner</span><span class="hl-2">(</span><span class="hl-1">)</span>
</code></pre>
<p>Revert if caller is not the owner of this component</p>

<a href="#onlywriter" id="onlywriter" style="color: inherit; text-decoration: none;">
  <h3>onlyWriter</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">modifier</span><span class="hl-1"> </span><span class="hl-3">onlyWriter</span><span class="hl-2">(</span><span class="hl-1">)</span>
</code></pre>
<p>Revert if caller does not have write access to this component</p>

<a href="#owner" id="owner" style="color: inherit; text-decoration: none;">
  <h3>owner</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">owner</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>
<p>Get the owner of this component</p>

<a href="#transferownership" id="transferownership" style="color: inherit; text-decoration: none;">
  <h3>transferOwnership</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">transferOwnership</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">newOwner</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Transfer ownership of this component to a new owner.
Can only be called by the current owner.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>newOwner</td>
<td>address</td>
<td>Address of the new owner.</td>
</tr>
</tbody></table>

<a href="#registerworld" id="registerworld" style="color: inherit; text-decoration: none;">
  <h3>registerWorld</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerWorld</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">_world</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Register this component in the given world.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>_world</td>
<td>address</td>
<td>Address of the World contract.</td>
</tr>
</tbody></table>

<a href="#authorizewriter" id="authorizewriter" style="color: inherit; text-decoration: none;">
  <h3>authorizeWriter</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">authorizeWriter</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">writer</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Grant write access to this component to the given address.
Can only be called by the owner of this component.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>writer</td>
<td>address</td>
<td>Address to grant write access to.</td>
</tr>
</tbody></table>

<a href="#getschema" id="getschema" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">virtual</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#set" id="set" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Set the given component value for the given entity.
Registers the update in the World contract.
Can only be called by addresses with write access to this component.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>entity</td>
<td>uint256</td>
<td>Entity to set the value for.</td>
</tr>
<tr>
<td>value</td>
<td>bytes</td>
<td>Value to set for the given entity.</td>
</tr>
</tbody></table>

<a href="#remove" id="remove" style="color: inherit; text-decoration: none;">
  <h3>remove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Remove the given entity from this component.
Registers the update in the World contract.
Can only be called by addresses with write access to this component.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>entity</td>
<td>uint256</td>
<td>Entity to remove from this component.</td>
</tr>
</tbody></table>

<a href="#has" id="has" style="color: inherit; text-decoration: none;">
  <h3>has</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>
<p>Check whether the given entity has a value in this component.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>entity</td>
<td>uint256</td>
<td>Entity to check whether it has a value in this component for.</td>
</tr>
</tbody></table>

<a href="#getrawvalue" id="getrawvalue" style="color: inherit; text-decoration: none;">
  <h3>getRawValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getRawValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-2">)</span>
</code></pre>
<p>Get the raw (abi-encoded) value of the given entity in this component.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>entity</td>
<td>uint256</td>
<td>Entity to get the raw value in this component for.</td>
</tr>
</tbody></table>

<a href="#getentities" id="getentities" style="color: inherit; text-decoration: none;">
  <h3>getEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>
<p>Get a list of all entities that have a value in this component.</p>

<a href="#getentitieswithvalue" id="getentitieswithvalue" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>
<p>Get a list of all entities that have the specified value in this component.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>bytes</td>
<td>Abi-encoded value to get the list of entities with this value for.</td>
</tr>
</tbody></table>

<a href="#registerindexer" id="registerindexer" style="color: inherit; text-decoration: none;">
  <h3>registerIndexer</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerIndexer</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">indexer</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>
<p>Register a new indexer that gets notified when a component value is set.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>indexer</td>
<td>address</td>
<td>Address of the indexer to notify when a component value is set.</td>
</tr>
</tbody></table>

<a href="#_set" id="_set" style="color: inherit; text-decoration: none;">
  <h3>_set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">_set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span>
</code></pre>
<p>Set the given component value for the given entity.
Registers the update in the World contract.
Can only be called internally (by the component or contracts deriving from it),
without requiring explicit write access.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>entity</td>
<td>uint256</td>
<td>Entity to set the value for.</td>
</tr>
<tr>
<td>value</td>
<td>bytes</td>
<td>Value to set for the given entity.</td>
</tr>
</tbody></table>

<a href="#_remove" id="_remove" style="color: inherit; text-decoration: none;">
  <h3>_remove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">_remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span>
</code></pre>
<p>Remove the given entity from this component.
Registers the update in the World contract.
Can only be called internally (by the component or contracts deriving from it),
without requiring explicit write access.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>entity</td>
<td>uint256</td>
<td>Entity to remove from this component.</td>
</tr>
</tbody></table>

<a href="#indexer" id="indexer" style="color: inherit; text-decoration: none;">
  <h2>Indexer</h2>
</a>

<a href="#entities-2" id="entities-2" style="color: inherit; text-decoration: none;">
  <h3>entities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Set entities</span>
</code></pre>

<a href="#valuetoentities-1" id="valuetoentities-1" style="color: inherit; text-decoration: none;">
  <h3>valueToEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">address</span><span class="hl-2">)</span><span class="hl-1"> valueToEntities</span>
</code></pre>

<a href="#entitytovalue-1" id="entitytovalue-1" style="color: inherit; text-decoration: none;">
  <h3>entityToValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-2">)</span><span class="hl-1"> entityToValue</span>
</code></pre>

<a href="#components-1" id="components-1" style="color: inherit; text-decoration: none;">
  <h3>components</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Component</span><span class="hl-2">[]</span><span class="hl-1"> components</span>
</code></pre>

<a href="#trackvalueforcomponent" id="trackvalueforcomponent" style="color: inherit; text-decoration: none;">
  <h3>trackValueForComponent</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">bool</span><span class="hl-2">[]</span><span class="hl-1"> trackValueForComponent</span>
</code></pre>

<a href="#constructor-1" id="constructor-1" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">Component</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">_components</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bool</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">_trackValueForComponent</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#update" id="update" style="color: inherit; text-decoration: none;">
  <h3>update</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">update</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#remove-1" id="remove-1" style="color: inherit; text-decoration: none;">
  <h3>remove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#supportsinterface" id="supportsinterface" style="color: inherit; text-decoration: none;">
  <h3>supportsInterface</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">supportsInterface</span><span class="hl-2">(</span><span class="hl-4">bytes4</span><span class="hl-1"> </span><span class="hl-5">interfaceId</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
 uses less than 30,000 gas.</em></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>interfaceId</td>
<td>bytes4</td>
<td>The interface identifier, as specified in ERC-165</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[0]</td>
<td>bool</td>
<td><code>true</code> if the contract implements <code>interfaceID</code> and  <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td>
</tr>
</tbody></table>

<a href="#getentities-1" id="getentities-1" style="color: inherit; text-decoration: none;">
  <h3>getEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#getentitieswithvalue-1" id="getentitieswithvalue-1" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#has-1" id="has-1" style="color: inherit; text-decoration: none;">
  <h3>has</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#_set-1" id="_set-1" style="color: inherit; text-decoration: none;">
  <h3>_set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">_set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">newValues</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span>
</code></pre>

<a href="#uint256node" id="uint256node" style="color: inherit; text-decoration: none;">
  <h2>Uint256Node</h2>
</a>
<pre><code class="language-solidity"><span class="hl-0">struct</span><span class="hl-1"> Uint256Node </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-4">uint256</span><span class="hl-1"> value</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-4">uint256</span><span class="hl-1"> next</span><span class="hl-0">;</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#freefunction" id="freefunction" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">pointer</span><span class="hl-2">(</span><span class="hl-0">struct</span><span class="hl-1"> Uint256Node a</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes32</span><span class="hl-1"> </span><span class="hl-5">ptr</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-1" id="freefunction-1" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">fromPointer</span><span class="hl-2">(</span><span class="hl-4">bytes32</span><span class="hl-1"> ptr</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">Uint256Node</span><span class="hl-1"> </span><span class="hl-5">a</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-2" id="freefunction-2" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">isPositiveFragment</span><span class="hl-2">(</span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment fragment</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-3" id="freefunction-3" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">isNegativeFragment</span><span class="hl-2">(</span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment fragment</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-4" id="freefunction-4" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">isSettingFragment</span><span class="hl-2">(</span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment fragment</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-5" id="freefunction-5" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">isEntityFragment</span><span class="hl-2">(</span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment fragment</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-6" id="freefunction-6" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">passesQueryFragment</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment fragment</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-7" id="freefunction-7" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">passesQueryFragmentProxy</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment fragment</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment proxyRead</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-1"> </span><span class="hl-5">passes</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bool</span><span class="hl-1"> </span><span class="hl-5">proxyFound</span><span class="hl-2">)</span>
</code></pre>

<a href="#freefunction-8" id="freefunction-8" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">isBreakingPassState</span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-1"> passes</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment fragment</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>
<p>For positive fragments (Has/HasValue) we need to find any passing entity up the proxy chain
so as soon as passes is true, we can early return. For negative fragments (Not/NotValue) every entity
up the proxy chain must pass, so we can early return if we find one that doesn&#39;t pass.</p>

<a href="#queryvars" id="queryvars" style="color: inherit; text-decoration: none;">
  <h2>QueryVars</h2>
</a>
<pre><code class="language-solidity"><span class="hl-0">struct</span><span class="hl-1"> QueryVars </span><span class="hl-2">{</span><br/><span class="hl-1">  LinkedList entities</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-4">uint256</span><span class="hl-1"> numEntities</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment proxyRead</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-0">struct</span><span class="hl-1"> QueryFragment proxyExpand</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-4">bool</span><span class="hl-1"> initialFragment</span><span class="hl-0">;</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#libquery" id="libquery" style="color: inherit; text-decoration: none;">
  <h2>LibQuery</h2>
</a>

<a href="#query" id="query" style="color: inherit; text-decoration: none;">
  <h3>query</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">query</span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">QueryFragment</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">fragments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>
<p>Execute the given query and return a list of entity ids</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>fragments</td>
<td>struct QueryFragment[]</td>
<td>List of query fragments to execute</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[0]</td>
<td>uint256[]</td>
<td>entities List of entities matching the query</td>
</tr>
</tbody></table>

<a href="#_processproxyread" id="_processproxyread" style="color: inherit; text-decoration: none;">
  <h3>_processProxyRead</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">_processProxyRead</span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">QueryVars</span><span class="hl-1"> </span><span class="hl-5">v</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">QueryFragment</span><span class="hl-1"> </span><span class="hl-5">fragment</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bool</span><span class="hl-1"> </span><span class="hl-5">passes</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#_processproxyexpand" id="_processproxyexpand" style="color: inherit; text-decoration: none;">
  <h3>_processProxyExpand</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">_processProxyExpand</span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">QueryVars</span><span class="hl-1"> </span><span class="hl-5">v</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">QueryFragment</span><span class="hl-1"> </span><span class="hl-5">fragment</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-0">LinkedList</span><span class="hl-1"> </span><span class="hl-5">nextEntities</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">nextNumEntities</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-0">LinkedList</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#getchildentities" id="getchildentities" style="color: inherit; text-decoration: none;">
  <h3>getChildEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getChildEntities</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IComponent</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">depth</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>
<p>Recursively computes all direct and indirect child entities up to the specified depth</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>entity</td>
<td>uint256</td>
<td>Entity to get all child entities up to the specified depth</td>
</tr>
<tr>
<td>component</td>
<td>contract IComponent</td>
<td>Entity reference component</td>
</tr>
<tr>
<td>depth</td>
<td>uint256</td>
<td>Depth up to which the recursion should be applied</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[0]</td>
<td>uint256[]</td>
<td>Set of entities that are child entities of the given entity via the given component</td>
</tr>
</tbody></table>

<a href="#getvaluewithproxy" id="getvaluewithproxy" style="color: inherit; text-decoration: none;">
  <h3>getValueWithProxy</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValueWithProxy</span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IComponent</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IComponent</span><span class="hl-1"> </span><span class="hl-5">proxyComponent</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">depth</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bool</span><span class="hl-1"> </span><span class="hl-5">found</span><span class="hl-2">)</span>
</code></pre>

<a href="#listtoarray" id="listtoarray" style="color: inherit; text-decoration: none;">
  <h3>listToArray</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">listToArray</span><span class="hl-2">(</span><span class="hl-0">LinkedList</span><span class="hl-1"> </span><span class="hl-5">list</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">length</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">array</span><span class="hl-2">)</span>
</code></pre>
<p>Helper function to turn a linked list into an array</p>

<a href="#arraytolist" id="arraytolist" style="color: inherit; text-decoration: none;">
  <h3>arrayToList</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">arrayToList</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">array</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-0">LinkedList</span><span class="hl-1"> </span><span class="hl-5">list</span><span class="hl-2">)</span>
</code></pre>
<p>Helper function to turn an array into a linked list</p>

<a href="#libtypes" id="libtypes" style="color: inherit; text-decoration: none;">
  <h2>LibTypes</h2>
</a>
<p>Enum of supported schema types</p>

<a href="#schemavalue" id="schemavalue" style="color: inherit; text-decoration: none;">
  <h3>SchemaValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">enum</span><span class="hl-1"> SchemaValue </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-5">BOOL</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT8</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT16</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT32</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT64</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT128</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT256</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT8</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT16</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT32</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT64</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT128</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT256</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">BYTES</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">STRING</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">ADDRESS</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">BYTES4</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">BOOL_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT8_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT16_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT32_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT64_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT128_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT256_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">INT_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT8_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT16_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT32_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT64_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT128_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">UINT256_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">BYTES_ARRAY</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">STRING_ARRAY</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#mapset" id="mapset" style="color: inherit; text-decoration: none;">
  <h2>MapSet</h2>
</a>
<p>Key value store with uint256 key and uint256 Set value</p>

<a href="#items" id="items" style="color: inherit; text-decoration: none;">
  <h3>items</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-2">[])</span><span class="hl-1"> items</span>
</code></pre>

<a href="#itemtoindex" id="itemtoindex" style="color: inherit; text-decoration: none;">
  <h3>itemToIndex</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-2">))</span><span class="hl-1"> itemToIndex</span>
</code></pre>

<a href="#add" id="add" style="color: inherit; text-decoration: none;">
  <h3>add</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">add</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">setKey</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">item</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#remove-2" id="remove-2" style="color: inherit; text-decoration: none;">
  <h3>remove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">setKey</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">item</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#has-2" id="has-2" style="color: inherit; text-decoration: none;">
  <h3>has</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">setKey</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">item</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#getitems" id="getitems" style="color: inherit; text-decoration: none;">
  <h3>getItems</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getItems</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">setKey</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#size" id="size" style="color: inherit; text-decoration: none;">
  <h3>size</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">size</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">setKey</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#set-1" id="set-1" style="color: inherit; text-decoration: none;">
  <h2>Set</h2>
</a>
<p>Set of unique uint256</p>

<a href="#items-1" id="items-1" style="color: inherit; text-decoration: none;">
  <h3>items</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-2">[]</span><span class="hl-1"> items</span>
</code></pre>

<a href="#itemtoindex-1" id="itemtoindex-1" style="color: inherit; text-decoration: none;">
  <h3>itemToIndex</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">mapping</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-2">)</span><span class="hl-1"> itemToIndex</span>
</code></pre>

<a href="#add-1" id="add-1" style="color: inherit; text-decoration: none;">
  <h3>add</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">add</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">item</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#remove-3" id="remove-3" style="color: inherit; text-decoration: none;">
  <h3>remove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">item</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#getindex" id="getindex" style="color: inherit; text-decoration: none;">
  <h3>getIndex</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getIndex</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">item</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#has-3" id="has-3" style="color: inherit; text-decoration: none;">
  <h3>has</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">item</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#getitems-1" id="getitems-1" style="color: inherit; text-decoration: none;">
  <h3>getItems</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getItems</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#size-1" id="size-1" style="color: inherit; text-decoration: none;">
  <h3>size</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">size</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#system" id="system" style="color: inherit; text-decoration: none;">
  <h2>System</h2>
</a>
<p>System base contract</p>

<a href="#components-2" id="components-2" style="color: inherit; text-decoration: none;">
  <h3>components</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract IUint256Component components</span>
</code></pre>

<a href="#world-2" id="world-2" style="color: inherit; text-decoration: none;">
  <h3>world</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract IWorld world</span>
</code></pre>

<a href="#_owner-1" id="_owner-1" style="color: inherit; text-decoration: none;">
  <h3>_owner</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">address</span><span class="hl-1"> _owner</span>
</code></pre>

<a href="#onlyowner-1" id="onlyowner-1" style="color: inherit; text-decoration: none;">
  <h3>onlyOwner</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">modifier</span><span class="hl-1"> </span><span class="hl-3">onlyOwner</span><span class="hl-2">(</span><span class="hl-1">)</span>
</code></pre>

<a href="#constructor-2" id="constructor-2" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IWorld</span><span class="hl-1"> </span><span class="hl-5">_world</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">_components</span><span class="hl-1">) </span><span class="hl-0">internal</span>
</code></pre>

<a href="#owner-1" id="owner-1" style="color: inherit; text-decoration: none;">
  <h3>owner</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">owner</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>

<a href="#world-3" id="world-3" style="color: inherit; text-decoration: none;">
  <h2>World</h2>
</a>
<p>The <code>World</code> contract is at the core of every on-chain world.
Entities, components and systems are registered in the <code>World</code>.
Components register updates to their state via the <code>registerComponentValueSet</code>
and <code>registerComponentValueRemoved</code> methods, which emit the <code>ComponentValueSet</code> and <code>ComponentValueRemoved</code> events respectively.</p>
<p>Clients can reconstruct the entire state (of all components) by listening to
these two events, instead of having to add a separate getter or event listener
for every type of data. (Have a look at the MUD network package for a TypeScript
implementation of contract/client state sync.)</p>
<p>The <code>World</code> is an ownerless and permissionless contract.
Anyone can register new components and systems in the world (via the <code>registerComponent</code> and <code>registerSystem</code> methods).
Clients decide which components and systems they care about.</p>

<a href="#entities-3" id="entities-3" style="color: inherit; text-decoration: none;">
  <h3>entities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Set entities</span>
</code></pre>

<a href="#_components" id="_components" style="color: inherit; text-decoration: none;">
  <h3>_components</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Uint256Component _components</span>
</code></pre>

<a href="#_systems" id="_systems" style="color: inherit; text-decoration: none;">
  <h3>_systems</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Uint256Component _systems</span>
</code></pre>

<a href="#register" id="register" style="color: inherit; text-decoration: none;">
  <h3>register</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract RegisterSystem register</span>
</code></pre>

<a href="#componentvalueset" id="componentvalueset" style="color: inherit; text-decoration: none;">
  <h3>ComponentValueSet</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">event</span><span class="hl-1"> ComponentValueSet</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">componentId</span><span class="hl-1">, </span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-1">, </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-1">, </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">data</span><span class="hl-2">)</span>
</code></pre>

<a href="#componentvalueremoved" id="componentvalueremoved" style="color: inherit; text-decoration: none;">
  <h3>ComponentValueRemoved</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">event</span><span class="hl-1"> ComponentValueRemoved</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">componentId</span><span class="hl-1">, </span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-1">, </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span>
</code></pre>

<a href="#constructor-3" id="constructor-3" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#init" id="init" style="color: inherit; text-decoration: none;">
  <h3>init</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">init</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Initialize the World.
Separated from the constructor to prevent circular dependencies.</p>

<a href="#components-3" id="components-3" style="color: inherit; text-decoration: none;">
  <h3>components</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">components</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IUint256Component</span><span class="hl-2">)</span>
</code></pre>
<p>Get the component registry Uint256Component
(mapping from component address to component id)</p>

<a href="#systems-1" id="systems-1" style="color: inherit; text-decoration: none;">
  <h3>systems</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">systems</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IUint256Component</span><span class="hl-2">)</span>
</code></pre>
<p>Get the system registry Uint256Component
(mapping from system address to system id)</p>

<a href="#registercomponent" id="registercomponent" style="color: inherit; text-decoration: none;">
  <h3>registerComponent</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponent</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">componentAddr</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Register a new component in this World.
ID must be unique.</p>

<a href="#registersystem" id="registersystem" style="color: inherit; text-decoration: none;">
  <h3>registerSystem</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerSystem</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">systemAddr</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Register a new system in this World.
ID must be unique.</p>

<a href="#requirecomponentregistered" id="requirecomponentregistered" style="color: inherit; text-decoration: none;">
  <h3>requireComponentRegistered</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">modifier</span><span class="hl-1"> </span><span class="hl-3">requireComponentRegistered</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-1">)</span>
</code></pre>
<p>Reverts if the component is not registered in this World.</p>

<a href="#registercomponentvalueset" id="registercomponentvalueset" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueSet</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueSet</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">data</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Deprecated - use registerComponentValueSet(entity, data) instead
Register a component value update.
Emits the <code>ComponentValueSet</code> event for clients to reconstruct the state.</p>

<a href="#registercomponentvalueset-1" id="registercomponentvalueset-1" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueSet</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueSet</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">data</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Register a component value update.
Emits the <code>ComponentValueSet</code> event for clients to reconstruct the state.</p>

<a href="#registercomponentvalueremoved" id="registercomponentvalueremoved" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueRemoved</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueRemoved</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Deprecated - use registerComponentValueRemoved(entity) instead
Register a component value removal.
Emits the <code>ComponentValueRemoved</code> event for clients to reconstruct the state.</p>

<a href="#registercomponentvalueremoved-1" id="registercomponentvalueremoved-1" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueRemoved</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueRemoved</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>
<p>Register a component value removal.
Emits the <code>ComponentValueRemoved</code> event for clients to reconstruct the state.</p>

<a href="#getcomponent" id="getcomponent" style="color: inherit; text-decoration: none;">
  <h3>getComponent</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getComponent</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>
<p>Deprecated, but left here for backward compatibility. TODO: refactor all consumers.</p>

<a href="#getcomponentidfromaddress" id="getcomponentidfromaddress" style="color: inherit; text-decoration: none;">
  <h3>getComponentIdFromAddress</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getComponentIdFromAddress</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">componentAddr</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>
<p>Deprecated, but left here for backward compatibility. TODO: refactor all consumers.</p>

<a href="#getsystemaddress" id="getsystemaddress" style="color: inherit; text-decoration: none;">
  <h3>getSystemAddress</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSystemAddress</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">systemId</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>
<p>Deprecated, but left here for backward compatibility. TODO: refactor all consumers.</p>

<a href="#getnumentities" id="getnumentities" style="color: inherit; text-decoration: none;">
  <h3>getNumEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getNumEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#query-1" id="query-1" style="color: inherit; text-decoration: none;">
  <h3>query</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">query</span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">WorldQueryFragment</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">worldQueryFragments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>
<p>Helper function to execute a query with query fragments referring to a component ID instead of a component address.</p>

<a href="#hasentity" id="hasentity" style="color: inherit; text-decoration: none;">
  <h3>hasEntity</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">hasEntity</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>
<p>Check whether an entity exists in this world.</p>

<a href="#getuniqueentityid" id="getuniqueentityid" style="color: inherit; text-decoration: none;">
  <h3>getUniqueEntityId</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getUniqueEntityId</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>
<p>Get a new unique entity ID.</p>

<a href="#uint256component" id="uint256component" style="color: inherit; text-decoration: none;">
  <h2>Uint256Component</h2>
</a>
<p>Reference implementation of a component storing a uint256 value for each entity.</p>

<a href="#constructor-4" id="constructor-4" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-1" id="getschema-1" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#set-2" id="set-2" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#getvalue" id="getvalue" style="color: inherit; text-decoration: none;">
  <h3>getValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentitieswithvalue-2" id="getentitieswithvalue-2" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#componentscomponentid" id="componentscomponentid" style="color: inherit; text-decoration: none;">
  <h2>componentsComponentId</h2>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> componentsComponentId</span>
</code></pre>

<a href="#systemscomponentid" id="systemscomponentid" style="color: inherit; text-decoration: none;">
  <h2>systemsComponentId</h2>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> systemsComponentId</span>
</code></pre>

<a href="#icomponent" id="icomponent" style="color: inherit; text-decoration: none;">
  <h2>IComponent</h2>
</a>

<a href="#transferownership-1" id="transferownership-1" style="color: inherit; text-decoration: none;">
  <h3>transferOwnership</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">transferOwnership</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">newOwner</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#set-3" id="set-3" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#remove-4" id="remove-4" style="color: inherit; text-decoration: none;">
  <h3>remove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#has-4" id="has-4" style="color: inherit; text-decoration: none;">
  <h3>has</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#getrawvalue-1" id="getrawvalue-1" style="color: inherit; text-decoration: none;">
  <h3>getRawValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getRawValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentities-2" id="getentities-2" style="color: inherit; text-decoration: none;">
  <h3>getEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#getentitieswithvalue-3" id="getentitieswithvalue-3" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#ierc165" id="ierc165" style="color: inherit; text-decoration: none;">
  <h2>IERC165</h2>
</a>

<a href="#supportsinterface-1" id="supportsinterface-1" style="color: inherit; text-decoration: none;">
  <h3>supportsInterface</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">supportsInterface</span><span class="hl-2">(</span><span class="hl-4">bytes4</span><span class="hl-1"> </span><span class="hl-5">interfaceId</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
 uses less than 30,000 gas.</em></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>interfaceId</td>
<td>bytes4</td>
<td>The interface identifier, as specified in ERC-165</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[0]</td>
<td>bool</td>
<td><code>true</code> if the contract implements <code>interfaceID</code> and  <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td>
</tr>
</tbody></table>

<a href="#ientitycontainer" id="ientitycontainer" style="color: inherit; text-decoration: none;">
  <h2>IEntityContainer</h2>
</a>

<a href="#has-5" id="has-5" style="color: inherit; text-decoration: none;">
  <h3>has</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentities-3" id="getentities-3" style="color: inherit; text-decoration: none;">
  <h3>getEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#getentitieswithvalue-4" id="getentitieswithvalue-4" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#ientityindexer" id="ientityindexer" style="color: inherit; text-decoration: none;">
  <h2>IEntityIndexer</h2>
</a>

<a href="#update-1" id="update-1" style="color: inherit; text-decoration: none;">
  <h3>update</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">update</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#remove-5" id="remove-5" style="color: inherit; text-decoration: none;">
  <h3>remove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">remove</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#iowned" id="iowned" style="color: inherit; text-decoration: none;">
  <h2>IOwned</h2>
</a>

<a href="#owner-2" id="owner-2" style="color: inherit; text-decoration: none;">
  <h3>owner</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">owner</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>

<a href="#isystem" id="isystem" style="color: inherit; text-decoration: none;">
  <h2>ISystem</h2>
</a>

<a href="#execute" id="execute" style="color: inherit; text-decoration: none;">
  <h3>execute</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">execute</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">arguments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-2">)</span>
</code></pre>

<a href="#iuint256component" id="iuint256component" style="color: inherit; text-decoration: none;">
  <h2>IUint256Component</h2>
</a>

<a href="#set-4" id="set-4" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#getvalue-1" id="getvalue-1" style="color: inherit; text-decoration: none;">
  <h3>getValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentitieswithvalue-5" id="getentitieswithvalue-5" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#worldqueryfragment" id="worldqueryfragment" style="color: inherit; text-decoration: none;">
  <h2>WorldQueryFragment</h2>
</a>
<pre><code class="language-solidity"><span class="hl-0">struct</span><span class="hl-1"> WorldQueryFragment </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-0">enum</span><span class="hl-1"> QueryType </span><span class="hl-5">queryType</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-5">uint256</span><span class="hl-1"> </span><span class="hl-5">componentId</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-5">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-0">;</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#iworld" id="iworld" style="color: inherit; text-decoration: none;">
  <h2>IWorld</h2>
</a>

<a href="#components-4" id="components-4" style="color: inherit; text-decoration: none;">
  <h3>components</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">components</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IUint256Component</span><span class="hl-2">)</span>
</code></pre>

<a href="#systems-2" id="systems-2" style="color: inherit; text-decoration: none;">
  <h3>systems</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">systems</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IUint256Component</span><span class="hl-2">)</span>
</code></pre>

<a href="#registercomponent-1" id="registercomponent-1" style="color: inherit; text-decoration: none;">
  <h3>registerComponent</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponent</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">componentAddr</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#getcomponent-1" id="getcomponent-1" style="color: inherit; text-decoration: none;">
  <h3>getComponent</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getComponent</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>

<a href="#getcomponentidfromaddress-1" id="getcomponentidfromaddress-1" style="color: inherit; text-decoration: none;">
  <h3>getComponentIdFromAddress</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getComponentIdFromAddress</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">componentAddr</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#registersystem-1" id="registersystem-1" style="color: inherit; text-decoration: none;">
  <h3>registerSystem</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerSystem</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">systemAddr</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#registercomponentvalueset-2" id="registercomponentvalueset-2" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueSet</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueSet</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">data</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#registercomponentvalueset-3" id="registercomponentvalueset-3" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueSet</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueSet</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">data</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#registercomponentvalueremoved-2" id="registercomponentvalueremoved-2" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueRemoved</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueRemoved</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#registercomponentvalueremoved-3" id="registercomponentvalueremoved-3" style="color: inherit; text-decoration: none;">
  <h3>registerComponentValueRemoved</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">registerComponentValueRemoved</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span>
</code></pre>

<a href="#getnumentities-1" id="getnumentities-1" style="color: inherit; text-decoration: none;">
  <h3>getNumEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getNumEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#hasentity-1" id="hasentity-1" style="color: inherit; text-decoration: none;">
  <h3>hasEntity</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">hasEntity</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#getuniqueentityid-1" id="getuniqueentityid-1" style="color: inherit; text-decoration: none;">
  <h3>getUniqueEntityId</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getUniqueEntityId</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#query-2" id="query-2" style="color: inherit; text-decoration: none;">
  <h3>query</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">query</span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">WorldQueryFragment</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">worldQueryFragments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">external</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#querytype" id="querytype" style="color: inherit; text-decoration: none;">
  <h2>QueryType</h2>
</a>
<pre><code class="language-solidity"><span class="hl-0">enum</span><span class="hl-1"> QueryType </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-5">Has</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">Not</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">HasValue</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">NotValue</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">ProxyRead</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">ProxyExpand</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#queryfragment" id="queryfragment" style="color: inherit; text-decoration: none;">
  <h2>QueryFragment</h2>
</a>
<pre><code class="language-solidity"><span class="hl-0">struct</span><span class="hl-1"> QueryFragment </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-0">enum</span><span class="hl-1"> QueryType </span><span class="hl-5">queryType</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-5">IComponent</span><span class="hl-1"> </span><span class="hl-5">component</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-5">bytes</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-0">;</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#registertype" id="registertype" style="color: inherit; text-decoration: none;">
  <h2>RegisterType</h2>
</a>
<pre><code class="language-solidity"><span class="hl-0">enum</span><span class="hl-1"> RegisterType </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-5">Component</span><span class="hl-2">,</span><br/><span class="hl-1">  </span><span class="hl-5">System</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#id-1" id="id-1" style="color: inherit; text-decoration: none;">
  <h2>ID</h2>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#registersystem-2" id="registersystem-2" style="color: inherit; text-decoration: none;">
  <h2>RegisterSystem</h2>
</a>

<a href="#constructor-5" id="constructor-5" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IWorld</span><span class="hl-1"> </span><span class="hl-5">_world</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">_components</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#requirement" id="requirement" style="color: inherit; text-decoration: none;">
  <h3>requirement</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">requirement</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">arguments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-2">)</span>
</code></pre>

<a href="#execute-1" id="execute-1" style="color: inherit; text-decoration: none;">
  <h3>execute</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">execute</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">msgSender</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">RegisterType</span><span class="hl-1"> </span><span class="hl-5">registerType</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">addr</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-2">)</span>
</code></pre>

<a href="#execute-2" id="execute-2" style="color: inherit; text-decoration: none;">
  <h3>execute</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">execute</span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-1"> </span><span class="hl-5">arguments</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bytes</span><span class="hl-2">)</span>
</code></pre>

<a href="#componenttest" id="componenttest" style="color: inherit; text-decoration: none;">
  <h2>ComponentTest</h2>
</a>

<a href="#vm" id="vm" style="color: inherit; text-decoration: none;">
  <h3>vm</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Vm vm</span>
</code></pre>

<a href="#users" id="users" style="color: inherit; text-decoration: none;">
  <h3>users</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-0">payable</span><span class="hl-2">[]</span><span class="hl-1"> users</span>
</code></pre>

<a href="#component-1" id="component-1" style="color: inherit; text-decoration: none;">
  <h3>component</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract TestComponent component</span>
</code></pre>

<a href="#setup" id="setup" style="color: inherit; text-decoration: none;">
  <h3>setUp</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">setUp</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testsetandgetvalue" id="testsetandgetvalue" style="color: inherit; text-decoration: none;">
  <h3>testSetAndGetValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testSetAndGetValue</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testremove" id="testremove" style="color: inherit; text-decoration: none;">
  <h3>testRemove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testRemove</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testgetentities" id="testgetentities" style="color: inherit; text-decoration: none;">
  <h3>testGetEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testGetEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testgetentitieswithvalue" id="testgetentitieswithvalue" style="color: inherit; text-decoration: none;">
  <h3>testGetEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testGetEntitiesWithValue</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#indexertest" id="indexertest" style="color: inherit; text-decoration: none;">
  <h2>IndexerTest</h2>
</a>

<a href="#vm-1" id="vm-1" style="color: inherit; text-decoration: none;">
  <h3>vm</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Vm vm</span>
</code></pre>

<a href="#position" id="position" style="color: inherit; text-decoration: none;">
  <h3>position</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract PositionComponent position</span>
</code></pre>

<a href="#damage" id="damage" style="color: inherit; text-decoration: none;">
  <h3>damage</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract DamageComponent damage</span>
</code></pre>

<a href="#regioncreatures" id="regioncreatures" style="color: inherit; text-decoration: none;">
  <h3>regionCreatures</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Indexer regionCreatures</span>
</code></pre>

<a href="#setup-1" id="setup-1" style="color: inherit; text-decoration: none;">
  <h3>setUp</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">setUp</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testsetandgetentitieswithvalue" id="testsetandgetentitieswithvalue" style="color: inherit; text-decoration: none;">
  <h3>testSetAndGetEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testSetAndGetEntitiesWithValue</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testupdate" id="testupdate" style="color: inherit; text-decoration: none;">
  <h3>testUpdate</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testUpdate</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testremove-1" id="testremove-1" style="color: inherit; text-decoration: none;">
  <h3>testRemove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testRemove</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testgetentities-1" id="testgetentities-1" style="color: inherit; text-decoration: none;">
  <h3>testGetEntities</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testGetEntities</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#libquerytest" id="libquerytest" style="color: inherit; text-decoration: none;">
  <h2>LibQueryTest</h2>
</a>

<a href="#vm-2" id="vm-2" style="color: inherit; text-decoration: none;">
  <h3>vm</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Vm vm</span>
</code></pre>

<a href="#users-1" id="users-1" style="color: inherit; text-decoration: none;">
  <h3>users</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-0">payable</span><span class="hl-2">[]</span><span class="hl-1"> users</span>
</code></pre>

<a href="#component1" id="component1" style="color: inherit; text-decoration: none;">
  <h3>component1</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract TestComponent1 component1</span>
</code></pre>

<a href="#component2" id="component2" style="color: inherit; text-decoration: none;">
  <h3>component2</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract TestComponent2 component2</span>
</code></pre>

<a href="#component3" id="component3" style="color: inherit; text-decoration: none;">
  <h3>component3</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract TestComponent3 component3</span>
</code></pre>

<a href="#prototypetag" id="prototypetag" style="color: inherit; text-decoration: none;">
  <h3>prototypeTag</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract PrototypeTagComponent prototypeTag</span>
</code></pre>

<a href="#fromprototype" id="fromprototype" style="color: inherit; text-decoration: none;">
  <h3>fromPrototype</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract FromPrototypeComponent fromPrototype</span>
</code></pre>

<a href="#ownedbyentity" id="ownedbyentity" style="color: inherit; text-decoration: none;">
  <h3>ownedByEntity</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract OwnedByEntityComponent ownedByEntity</span>
</code></pre>

<a href="#setup-2" id="setup-2" style="color: inherit; text-decoration: none;">
  <h3>setUp</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">setUp</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testhasquery" id="testhasquery" style="color: inherit; text-decoration: none;">
  <h3>testHasQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testHasQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testhasvaluequery" id="testhasvaluequery" style="color: inherit; text-decoration: none;">
  <h3>testHasValueQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testHasValueQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testcombinedhasquery" id="testcombinedhasquery" style="color: inherit; text-decoration: none;">
  <h3>testCombinedHasQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testCombinedHasQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testcombinedhasvaluequery" id="testcombinedhasvaluequery" style="color: inherit; text-decoration: none;">
  <h3>testCombinedHasValueQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testCombinedHasValueQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testcombinedhashasvaluequery" id="testcombinedhashasvaluequery" style="color: inherit; text-decoration: none;">
  <h3>testCombinedHasHasValueQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testCombinedHasHasValueQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testcombinedhasnotquery" id="testcombinedhasnotquery" style="color: inherit; text-decoration: none;">
  <h3>testCombinedHasNotQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testCombinedHasNotQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testcombinedhasvaluenotquery" id="testcombinedhasvaluenotquery" style="color: inherit; text-decoration: none;">
  <h3>testCombinedHasValueNotQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testCombinedHasValueNotQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testcombinedhashasvaluenotquery" id="testcombinedhashasvaluenotquery" style="color: inherit; text-decoration: none;">
  <h3>testCombinedHasHasValueNotQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testCombinedHasHasValueNotQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testnotvaluequery" id="testnotvaluequery" style="color: inherit; text-decoration: none;">
  <h3>testNotValueQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testNotValueQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testinitialproxyexpand" id="testinitialproxyexpand" style="color: inherit; text-decoration: none;">
  <h3>testInitialProxyExpand</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testInitialProxyExpand</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testdeepproxyexpand" id="testdeepproxyexpand" style="color: inherit; text-decoration: none;">
  <h3>testDeepProxyExpand</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testDeepProxyExpand</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testproxyread" id="testproxyread" style="color: inherit; text-decoration: none;">
  <h3>testProxyRead</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testProxyRead</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testdeepproxyread" id="testdeepproxyread" style="color: inherit; text-decoration: none;">
  <h3>testDeepProxyRead</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testDeepProxyRead</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testgetvaluewithproxy" id="testgetvaluewithproxy" style="color: inherit; text-decoration: none;">
  <h3>testGetValueWithProxy</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testGetValueWithProxy</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#settest" id="settest" style="color: inherit; text-decoration: none;">
  <h2>SetTest</h2>
</a>

<a href="#vm-3" id="vm-3" style="color: inherit; text-decoration: none;">
  <h3>vm</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Vm vm</span>
</code></pre>

<a href="#users-2" id="users-2" style="color: inherit; text-decoration: none;">
  <h3>users</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-0">payable</span><span class="hl-2">[]</span><span class="hl-1"> users</span>
</code></pre>

<a href="#set-5" id="set-5" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Set set</span>
</code></pre>

<a href="#setup-3" id="setup-3" style="color: inherit; text-decoration: none;">
  <h3>setUp</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">setUp</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testadd" id="testadd" style="color: inherit; text-decoration: none;">
  <h3>testAdd</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testAdd</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testaddduplicate" id="testaddduplicate" style="color: inherit; text-decoration: none;">
  <h3>testAddDuplicate</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testAddDuplicate</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testremove-2" id="testremove-2" style="color: inherit; text-decoration: none;">
  <h3>testRemove</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testRemove</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testgetitems" id="testgetitems" style="color: inherit; text-decoration: none;">
  <h3>testGetItems</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testGetItems</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testsize" id="testsize" style="color: inherit; text-decoration: none;">
  <h3>testSize</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testSize</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testhas" id="testhas" style="color: inherit; text-decoration: none;">
  <h3>testHas</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testHas</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#worldtest" id="worldtest" style="color: inherit; text-decoration: none;">
  <h2>WorldTest</h2>
</a>

<a href="#vm-4" id="vm-4" style="color: inherit; text-decoration: none;">
  <h3>vm</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract Vm vm</span>
</code></pre>

<a href="#users-3" id="users-3" style="color: inherit; text-decoration: none;">
  <h3>users</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-0">payable</span><span class="hl-2">[]</span><span class="hl-1"> users</span>
</code></pre>

<a href="#world-4" id="world-4" style="color: inherit; text-decoration: none;">
  <h3>world</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract World world</span>
</code></pre>

<a href="#component1-1" id="component1-1" style="color: inherit; text-decoration: none;">
  <h3>component1</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract TestComponent1 component1</span>
</code></pre>

<a href="#component2-1" id="component2-1" style="color: inherit; text-decoration: none;">
  <h3>component2</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract TestComponent2 component2</span>
</code></pre>

<a href="#component3-1" id="component3-1" style="color: inherit; text-decoration: none;">
  <h3>component3</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract TestComponent3 component3</span>
</code></pre>

<a href="#prototypetag-1" id="prototypetag-1" style="color: inherit; text-decoration: none;">
  <h3>prototypeTag</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract PrototypeTagComponent prototypeTag</span>
</code></pre>

<a href="#fromprototype-1" id="fromprototype-1" style="color: inherit; text-decoration: none;">
  <h3>fromPrototype</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract FromPrototypeComponent fromPrototype</span>
</code></pre>

<a href="#ownedbyentity-1" id="ownedbyentity-1" style="color: inherit; text-decoration: none;">
  <h3>ownedByEntity</h3>
</a>
<pre><code class="language-solidity"><span class="hl-1">contract OwnedByEntityComponent ownedByEntity</span>
</code></pre>

<a href="#setup-4" id="setup-4" style="color: inherit; text-decoration: none;">
  <h3>setUp</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">setUp</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#testquery" id="testquery" style="color: inherit; text-decoration: none;">
  <h3>testQuery</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">testQuery</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#id-2" id="id-2" style="color: inherit; text-decoration: none;">
  <h2>ID</h2>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#damagecomponent" id="damagecomponent" style="color: inherit; text-decoration: none;">
  <h2>DamageComponent</h2>
</a>

<a href="#constructor-6" id="constructor-6" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-2" id="getschema-2" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#set-6" id="set-6" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#getvalue-2" id="getvalue-2" style="color: inherit; text-decoration: none;">
  <h3>getValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentitieswithvalue-6" id="getentitieswithvalue-6" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#fromprototypecomponent" id="fromprototypecomponent" style="color: inherit; text-decoration: none;">
  <h2>FromPrototypeComponent</h2>
</a>

<a href="#id-3" id="id-3" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-7" id="constructor-7" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-3" id="getschema-3" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#set-7" id="set-7" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">prototypeEntity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#getvalue-3" id="getvalue-3" style="color: inherit; text-decoration: none;">
  <h3>getValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentitieswithvalue-7" id="getentitieswithvalue-7" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">prototypeEntity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#ownedbyentitycomponent" id="ownedbyentitycomponent" style="color: inherit; text-decoration: none;">
  <h2>OwnedByEntityComponent</h2>
</a>

<a href="#id-4" id="id-4" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-8" id="constructor-8" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-4" id="getschema-4" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#set-8" id="set-8" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">ownedByEntity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#getvalue-4" id="getvalue-4" style="color: inherit; text-decoration: none;">
  <h3>getValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentitieswithvalue-8" id="getentitieswithvalue-8" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">ownedByEntity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#position-1" id="position-1" style="color: inherit; text-decoration: none;">
  <h2>Position</h2>
</a>
<pre><code class="language-solidity"><span class="hl-0">struct</span><span class="hl-1"> Position </span><span class="hl-2">{</span><br/><span class="hl-1">  </span><span class="hl-4">int64</span><span class="hl-1"> x</span><span class="hl-0">;</span><br/><span class="hl-1">  </span><span class="hl-4">int64</span><span class="hl-1"> y</span><span class="hl-0">;</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#id-5" id="id-5" style="color: inherit; text-decoration: none;">
  <h2>ID</h2>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#positioncomponent" id="positioncomponent" style="color: inherit; text-decoration: none;">
  <h2>PositionComponent</h2>
</a>

<a href="#constructor-9" id="constructor-9" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-5" id="getschema-5" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#set-9" id="set-9" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">Position</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#getvalue-5" id="getvalue-5" style="color: inherit; text-decoration: none;">
  <h3>getValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">Position</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentitieswithvalue-9" id="getentitieswithvalue-9" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-5">struct</span><span class="hl-1"> </span><span class="hl-0">Position</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#prototypetagcomponent" id="prototypetagcomponent" style="color: inherit; text-decoration: none;">
  <h2>PrototypeTagComponent</h2>
</a>

<a href="#id-6" id="id-6" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-10" id="constructor-10" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-6" id="getschema-6" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#set-10" id="set-10" style="color: inherit; text-decoration: none;">
  <h3>set</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">set</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">bool</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span>
</code></pre>

<a href="#getvalue-6" id="getvalue-6" style="color: inherit; text-decoration: none;">
  <h3>getValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getValue</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> </span><span class="hl-5">entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-2">)</span>
</code></pre>

<a href="#getentitieswithvalue-10" id="getentitieswithvalue-10" style="color: inherit; text-decoration: none;">
  <h3>getEntitiesWithValue</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getEntitiesWithValue</span><span class="hl-2">(</span><span class="hl-4">bool</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">[])</span>
</code></pre>

<a href="#testcomponent" id="testcomponent" style="color: inherit; text-decoration: none;">
  <h2>TestComponent</h2>
</a>

<a href="#id-7" id="id-7" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-11" id="constructor-11" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-7" id="getschema-7" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#testcomponent1" id="testcomponent1" style="color: inherit; text-decoration: none;">
  <h2>TestComponent1</h2>
</a>

<a href="#id-8" id="id-8" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-12" id="constructor-12" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-8" id="getschema-8" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#testcomponent2" id="testcomponent2" style="color: inherit; text-decoration: none;">
  <h2>TestComponent2</h2>
</a>

<a href="#id-9" id="id-9" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-13" id="constructor-13" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-9" id="getschema-9" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#testcomponent3" id="testcomponent3" style="color: inherit; text-decoration: none;">
  <h2>TestComponent3</h2>
</a>

<a href="#id-10" id="id-10" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-14" id="constructor-14" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-10" id="getschema-10" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#testcomponent4" id="testcomponent4" style="color: inherit; text-decoration: none;">
  <h2>TestComponent4</h2>
</a>

<a href="#id-11" id="id-11" style="color: inherit; text-decoration: none;">
  <h3>ID</h3>
</a>
<pre><code class="language-solidity"><span class="hl-4">uint256</span><span class="hl-1"> ID</span>
</code></pre>

<a href="#constructor-15" id="constructor-15" style="color: inherit; text-decoration: none;">
  <h3>constructor</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">constructor</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> </span><span class="hl-5">world</span><span class="hl-1">) </span><span class="hl-0">public</span>
</code></pre>

<a href="#getschema-11" id="getschema-11" style="color: inherit; text-decoration: none;">
  <h3>getSchema</h3>
</a>
<pre><code class="language-solidity"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-3">getSchema</span><span class="hl-2">()</span><span class="hl-1"> </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">string</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-0">LibTypes</span><span class="hl-1">.SchemaValue</span><span class="hl-2">[]</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-2">)</span>
</code></pre>
<p>Return the keys and value types of the schema of this component.</p>

<a href="#freefunction-9" id="freefunction-9" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">entityToAddress</span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-1"> entity</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>
<p>Turn an entity ID into its corresponding Ethereum address.</p>

<a href="#freefunction-10" id="freefunction-10" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">addressToEntity</span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-1"> addr</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">pure</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>
<p>Turn an Ethereum address into its corresponding entity ID.</p>

<a href="#freefunction-11" id="freefunction-11" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">getAddressById</span><span class="hl-2">(</span><span class="hl-1">contract IUint256Component registry</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>
<p>Get an Ethereum address from an address/id registry component (like _components/_systems in World.sol)</p>

<a href="#freefunction-12" id="freefunction-12" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">getIdByAddress</span><span class="hl-2">(</span><span class="hl-1">contract IUint256Component registry</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">address</span><span class="hl-1"> addr</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">uint256</span><span class="hl-2">)</span>
</code></pre>
<p>Get an entity id from an address/id registry component (like _components/_systems in World.sol)</p>

<a href="#freefunction-13" id="freefunction-13" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">getComponentById</span><span class="hl-2">(</span><span class="hl-1">contract IUint256Component components</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">IComponent</span><span class="hl-2">)</span>
</code></pre>
<p>Get a Component from an address/id registry component (like _components in World.sol)</p>

<a href="#freefunction-14" id="freefunction-14" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">getSystemAddressById</span><span class="hl-2">(</span><span class="hl-1">contract IUint256Component components</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-4">address</span><span class="hl-2">)</span>
</code></pre>
<p>Get the Ethereum address of a System from an address/id component registry component in which the
System registry component is registered (like _components in World.sol)</p>

<a href="#freefunction-15" id="freefunction-15" style="color: inherit; text-decoration: none;">
  <h2>freeFunction</h2>
</a>
<pre><code class="language-solidity"><span class="hl-1">freeFunction </span><span class="hl-3">getSystemById</span><span class="hl-2">(</span><span class="hl-1">contract IUint256Component components</span><span class="hl-2">,</span><span class="hl-1"> </span><span class="hl-4">uint256</span><span class="hl-1"> id</span><span class="hl-2">)</span><span class="hl-1"> </span><span class="hl-0">internal</span><span class="hl-1"> </span><span class="hl-0">view</span><span class="hl-1"> </span><span class="hl-0">returns</span><span class="hl-1"> </span><span class="hl-2">(</span><span class="hl-5">contract</span><span class="hl-1"> </span><span class="hl-0">ISystem</span><span class="hl-2">)</span>
</code></pre>
<p>Get a System from an address/id component registry component in which the
System registry component is registered (like _components in World.sol)</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">mud</a>
<ul></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky"></nav></div></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>